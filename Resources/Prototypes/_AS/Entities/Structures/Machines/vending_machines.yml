- type: entity
  parent: [BaseStructureDisableAnchoring, StorePresetMercenaryUplink, VendingMachine]
  id: VendingMachineMercVend
  name: MercVend
  description: For every sophont a rifle.
  components:
  - type: VendingMachine
    cashSlot: Null
    offState: off
    brokenState: broken
    normalState: normal-unshaded
    ejectState: eject-unshaded
    denyState: deny-unshaded
  #   screenState: screen
  - type: Sprite
    sprite: _AS/Structures/Machines/VendingMachines/mercvend.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
      shader: unshaded
    #   - state: "screen"
    #     map: ["enum.VendingMachineVisualLayers.Screen"]
    #     shader: unshaded
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: PointLight
    radius: 1.5
    energy: 1.3
    color: "#0492c2"
  - type: UserInterface
    interfaces:
      enum.StoreUiKey.Key:
        type: StoreBoundUserInterface
  - type: ActivatableUI
    key: enum.StoreUiKey.Key
  - type: Tag
    tags:
    - MercenaryUplink
  #  - type: Store
  #    balance:
  #      MercCoin: 0 # Waits for the player to put in money
  - type: AccessReader
    access: [["NuclearOperative"], ["SyndicateAgent"], ["Mercenary"]]
  - type: ActivatableUIRequiresAccess

- type: entity
  parent: [BaseStructureDisableAnchoring, StorePresetExchangeUplink, VendingMachine]
  id: VendingMachineExchangeVend
  name: ExchangeVend
  description: Get your wacky toys here!
  components:
  - type: VendingMachine
    cashSlot: Null
    offState: off
    brokenState: broken
    normalState: normal-unshaded
    ejectState: eject-unshaded
    denyState: deny-unshaded
  #   screenState: screen
  - type: Sprite
    sprite: _AS/Structures/Machines/VendingMachines/exchangevend.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
      shader: unshaded
    #   - state: "screen"
    #     map: ["enum.VendingMachineVisualLayers.Screen"]
    #     shader: unshaded
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#0492c2"
  - type: UserInterface
    interfaces:
      enum.StoreUiKey.Key:
        type: StoreBoundUserInterface
  - type: ActivatableUI
    key: enum.StoreUiKey.Key
  - type: Tag
    tags:
    - ExchangeUplink
  #  - type: Store
  #    balance:
  #      ExchangeCoin: 0 # Waits for the player to put in money
  - type: AccessReader
    access: [["NuclearOperative"], ["SyndicateAgent"], ["Mercenary"]]
  - type: ActivatableUIRequiresAccess

- type: entity
  parent: [BaseStructureDisableAnchoring, StorePresetSecurityUplink, VendingMachine]
  id: VendingMachineSLEUplinkVend
  name: SLE Uplink Vend
  description: In defense of your pockets.
  components:
  - type: VendingMachine
    cashSlot: Null
    offState: off
    brokenState: broken
    normalState: normal-unshaded
    ejectState: eject-unshaded
    denyState: deny-unshaded
  #   screenState: screen
  - type: Sprite
    sprite: _AS/Structures/Machines/VendingMachines/sleuplinkvend.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
      shader: unshaded
    #   - state: "screen"
    #     map: ["enum.VendingMachineVisualLayers.Screen"]
    #     shader: unshaded
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.45,0.25,0.45"
        mask:
        - MachineMask
        layer:
        - MachineLayer
        density: 200
  - type: PointLight
    radius: 1.5
    energy: 1.6
    color: "#C24F1F"
  - type: UserInterface
    interfaces:
      enum.StoreUiKey.Key:
        type: StoreBoundUserInterface
  - type: ActivatableUI
    key: enum.StoreUiKey.Key
  - type: Tag
    tags:
    - SecurityUplink
#  - type: Store
#    balance:
#      FrontierUplinkCoin: 0
  - type: AccessReader
    access: [["Security"]]
  - type: ActivatableUIRequiresAccess

- type: entity
  parent: [BaseStructureDisableAnchoring, BaseStructureDisableScrewing, VendingMachine]
  id: MedicGearVend
  name: Medic Gear Vending Machine [POI]
  description: A vending machine stocked with medical supplies and gear.
  components:
    - type: VendingMachine
      pack: MedicGearVendPOIInventory
      dispenseOnHitChance: 0
      dispenseOnHitThreshold: 0
      offState: off
      brokenState: broken
      normalState: normal-unshaded
      ejectState: eject-unshaded
      denyState: deny-unshaded
      ejectDelay: 3
    - type: DatasetVocalizer
      dataset: NanoMedAds
    - type: Sprite
      sprite: _AS/Structures/Machines/VendingMachines/medicgearvend.rsi
      layers:
      - state: "off"
        map: ["enum.VendingMachineVisualLayers.Base"]
      - state: "off"
        map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
        shader: unshaded
      - state: panel
        map: ["enum.WiresVisualLayers.MaintenancePanel"]
    - type: PointLight
      radius: 1.5
      energy: 1.6
      color: "#0492c2"
    - type: AccessReader
      access: [["Medical"]]
    - type: ActivatableUIRequiresAccess
    - type: MarketModifier
      mod: 5

# Aurora Song - SLE (Security Logistics Enforcement) vending machines
- type: entity
  parent: [BaseStructureDisableAnchoring, VendingMachine]
  id: ASVendingMachineSLEDrobe
  name: SLEDrobe
  description: A vending machine for Security Logistics Enforcement clothing and equipment.
  components:
  - type: VendingMachine
    pack: ASSLEDrobeInventory
    offState: off
    brokenState: broken
    normalState: normal-unshaded
  - type: DatasetVocalizer
    dataset: NfsdDrobeAds # Aurora Song - Reusing voice lines
  - type: Sprite
    sprite: _AS/Structures/Machines/VendingMachines/sledrobe.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
      shader: unshaded
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: AccessReader
    access: [["Security"]]

- type: entity
  parent: [BaseStructureDisableAnchoring, VendingMachine]
  id: ASVendingMachineSLETech
  name: SLETech
  description: A vending machine for Security Logistics Enforcement technical equipment.
  components:
  - type: VendingMachine
    pack: ASSLETechInventory
    offState: off
    brokenState: broken
    normalState: normal-unshaded
  - type: DatasetVocalizer
    dataset: NfsdDrobeAds # Aurora Song - Reusing voice lines
  - type: Sprite
    sprite: _AS/Structures/Machines/VendingMachines/sletech.rsi
    layers:
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.Base"]
    - state: "off"
      map: ["enum.VendingMachineVisualLayers.BaseUnshaded"]
      shader: unshaded
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: AccessReader
    access: [["Security"]]
